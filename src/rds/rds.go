package rds

var chars = map[rune]byte{
	' ':  0x20,
	'!':  0x21,
	'"':  0x22,
	'#':  0x23,
	'¤':  0x24,
	'%':  0x25,
	'&':  0x26,
	'\'': 0x27,
	'(':  0x28,
	')':  0x29,
	'*':  0x2a,
	'+':  0x2b,
	',':  0x2c,
	'-':  0x2d,
	'.':  0x2e,
	'/':  0x2f,
	'0':  0x30,
	'1':  0x31,
	'2':  0x32,
	'3':  0x33,
	'4':  0x34,
	'5':  0x35,
	'6':  0x36,
	'7':  0x37,
	'8':  0x38,
	'9':  0x39,
	':':  0x3a,
	';':  0x3b,
	'<':  0x3c,
	'=':  0x3d,
	'>':  0x3e,
	'?':  0x3f,
	'@':  0x40,
	'A':  0x41,
	'B':  0x42,
	'C':  0x43,
	'D':  0x44,
	'E':  0x45,
	'F':  0x46,
	'G':  0x47,
	'H':  0x48,
	'I':  0x49,
	'J':  0x4a,
	'K':  0x4b,
	'L':  0x4c,
	'M':  0x4d,
	'N':  0x4e,
	'O':  0x4f,
	'P':  0x50,
	'Q':  0x51,
	'R':  0x52,
	'S':  0x53,
	'T':  0x54,
	'U':  0x55,
	'V':  0x56,
	'W':  0x57,
	'X':  0x58,
	'Y':  0x59,
	'Z':  0x5a,
	'[':  0x5b,
	'\\': 0x5c,
	']':  0x5d,
	'^':  0x5e,
	'_':  0x5f,
	'`':  0x60,
	'a':  0x61,
	'b':  0x62,
	'c':  0x63,
	'd':  0x64,
	'e':  0x65,
	'f':  0x66,
	'g':  0x67,
	'h':  0x68,
	'i':  0x69,
	'j':  0x6a,
	'k':  0x6b,
	'l':  0x6c,
	'm':  0x6d,
	'n':  0x6e,
	'o':  0x6f,
	'p':  0x70,
	'q':  0x71,
	'r':  0x72,
	's':  0x73,
	't':  0x74,
	'u':  0x75,
	'v':  0x76,
	'w':  0x77,
	'x':  0x78,
	'y':  0x79,
	'z':  0x7a,
	'{':  0x7b,
	'|':  0x7c,
	'}':  0x7d,
	'~':  0x7e,
	'':  0x7f,
	'á':  0x80,
	'à':  0x81,
	'é':  0x82,
	'è':  0x83,
	'í':  0x84,
	'ì':  0x85,
	'ó':  0x86,
	'ò':  0x87,
	'ú':  0x88,
	'ù':  0x89,
	'Ñ':  0x8a,
	'Ç':  0x8b,
	'Ş':  0x8c,
	'ß':  0x8d,
	'¡':  0x8e,
	'Ĳ':  0x8f,
	'â':  0x90,
	'ä':  0x91,
	'ê':  0x92,
	'ë':  0x93,
	'î':  0x94,
	'ï':  0x95,
	'ô':  0x96,
	'ö':  0x97,
	'û':  0x98,
	'ü':  0x99,
	'ñ':  0x9a,
	'ç':  0x9b,
	'ş':  0x9c,
	'ğ':  0x9d,
	'𝟏':  0x9e,
	'ĳ':  0x9f,
	'ª':  0xa0,
	'ɑ':  0xa1,
	'©':  0xa2,
	'‰':  0xa3,
	'Ğ':  0xa4,
	'ě':  0xa5,
	'ň':  0xa6,
	'ő':  0xa7,
	'π':  0xa8,
	'€':  0xa9,
	'£':  0xaa,
	'$':  0xab,
	'←':  0xac,
	'↑':  0xad,
	'→':  0xae,
	'↓':  0xaf,
	'º':  0xb0,
	'¹':  0xb1,
	'²':  0xb2,
	'³':  0xb3,
	'±':  0xb4,
	'İ':  0xb5,
	'ń':  0xb6,
	'ű':  0xb7,
	'ų':  0xb8,
	'¿':  0xb9,
	'÷':  0xba,
	'°':  0xbb,
	'¼':  0xbc,
	'½':  0xbd,
	'¾':  0xbe,
	'§':  0xbf,
	'Á':  0xc0,
	'À':  0xc1,
	'É':  0xc2,
	'È':  0xc3,
	'Í':  0xc4,
	'Ì':  0xc5,
	'Ó':  0xc6,
	'Ò':  0xc7,
	'Ú':  0xc8,
	'Ù':  0xc9,
	'Ř':  0xca,
	'Č':  0xcb,
	'Š':  0xcc,
	'Ž':  0xcd,
	'Đ':  0xce,
	'Ŀ':  0xcf,
	'Â':  0xd0,
	'Ä':  0xd1,
	'Ê':  0xd2,
	'Ë':  0xd3,
	'Î':  0xd4,
	'Ï':  0xd5,
	'Ô':  0xd6,
	'Ö':  0xd7,
	'Û':  0xd8,
	'Ü':  0xd9,
	'ř':  0xda,
	'č':  0xdb,
	'š':  0xdc,
	'ž':  0xdd,
	'đ':  0xde,
	'ŀ':  0xdf,
	'Ã':  0xe0,
	'Å':  0xe1,
	'Æ':  0xe2,
	'Œ':  0xe3,
	'ŷ':  0xe4,
	'Ý':  0xe5,
	'Õ':  0xe6,
	'Ø':  0xe7,
	'Þ':  0xe8,
	'Ŋ':  0xe9,
	'Ŕ':  0xea,
	'Ć':  0xeb,
	'Ś':  0xec,
	'Ź':  0xed,
	'Ŧ':  0xee,
	'ð':  0xef,
	'ã':  0xf0,
	'å':  0xf1,
	'æ':  0xf2,
	'œ':  0xf3,
	'ŵ':  0xf4,
	'ý':  0xf5,
	'õ':  0xf6,
	'ø':  0xf7,
	'þ':  0xf8,
	'ŋ':  0xf9,
	'ŕ':  0xfa,
	'ć':  0xfb,
	'ś':  0xfc,
	'ź':  0xfd,
	'ŧ':  0xfe,
}
var reversedChars map[byte]rune

func init() {
	reversedChars = make(map[byte]rune, len(chars))
	for i, v := range chars {
		reversedChars[v] = i
	}
}

func Encode(str string) []byte {
	res := make([]byte, len(str))
	i := 0
	for _, r := range str {
		if _, ok := chars[r]; !ok {
			continue
		}
		res[i] = chars[r]
		i++
	}
	return res[:i]
}

func Decode(bytes []byte) string {
	res := make([]rune, len(bytes))
	i := 0
	for _, b := range bytes {
		if _, ok := reversedChars[b]; !ok {
			continue
		}
		res[i] = reversedChars[b]
		i++
	}
	return string(res[:i])
}
